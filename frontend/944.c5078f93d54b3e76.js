"use strict";(self.webpackChunkFront_End=self.webpackChunkFront_End||[]).push([[944],{3944:(T,O,d)=>{d.r(O),d.d(O,{MessageModule:()=>Ae});var u=d(6895),l=d(8616),p=d(433),_=d(6743),e=d(1571),f=d(2188),x=d(5412);function h(n,s){1&n&&(e.TgZ(0,"small",19),e._uU(1,"(You)"),e.qZA())}function b(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"div",14),e._UZ(3,"img",15),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e._UZ(6,"br"),e.YNc(7,h,2,0,"small",16),e.qZA(),e.TgZ(8,"div",17)(9,"input",18),e.NdJ("input",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.setValues(r))}),e.qZA()()()()}if(2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(3),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngIf",t.userName==i.username)}}function a(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,b,10,3,"div",11),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchResult)}}function g(n,s){1&n&&(e.TgZ(0,"div",20)(1,"h1"),e._uU(2,"No accounts found"),e.qZA()())}let m=(()=>{class n{constructor(t,i){this.messageService=t,this.dialog=i,this.searchResult=[],this.selectedUsers=[_.N.userId],this.groups=[],this.roomId="",this.userDp=_.N.profilePicRetrival,this.username=_.N.username}onSearchUsers(t){this.messageService.searchUsers(t.target.value).subscribe({next:r=>{this.searchResult=r.fetchedMessageAccounts},error:()=>{}})}getSelectedUsers(){this.messageService.createGroup({createdBy:this.groupName+` created by ${_.N.username}`,groupName:this.groupName,members:this.selectedUsers,message:{sender:_.N.userId,message:"Hey guys,i have created a group lets chat ! "},admin:_.N.userId}),this.dialog.closeAll()}setValues(t){this.selectedUsers.push(t._id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.w),e.Y36(x.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-group"]],decls:14,vars:3,consts:[[1,"container"],[1,"header"],[1,"inputDiv"],["type","text","placeholder","Group Name","id","grpName",3,"ngModel","ngModelChange"],["type","text","placeholder","Search & Add members to group","id","search",3,"input"],[1,"members"],[1,"listOfUsers"],[4,"ngIf"],["id","noSearch",4,"ngIf"],[1,"buttonDiv"],["type","submit",1,"btn",3,"click"],["class","user",4,"ngFor","ngForOf"],[1,"user"],["id","tapToChat"],[1,"userDp"],["alt","twisks","srcset","",3,"src"],["id","you",4,"ngIf"],[1,"check"],["type","checkbox",3,"input"],["id","you"],["id","noSearch"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Create Group"),e.qZA()(),e.TgZ(4,"div",2)(5,"input",3),e.NdJ("ngModelChange",function(r){return i.groupName=r}),e.qZA(),e.TgZ(6,"input",4),e.NdJ("input",function(r){return i.onSearchUsers(r)}),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6),e.YNc(9,a,2,1,"div",7),e.YNc(10,g,3,0,"div",8),e.qZA()(),e.TgZ(11,"div",9)(12,"button",10),e.NdJ("click",function(){return i.getSelectedUsers()}),e._uU(13,"Add to Group"),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngModel",i.groupName),e.xp6(4),e.Q6J("ngIf",0!=i.searchResult.length),e.xp6(1),e.Q6J("ngIf",0==i.searchResult.length))},dependencies:[u.sg,u.O5,p.Fj,p.JJ,p.On],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:15px;width:300px;height:100%}.listOfUsers[_ngcontent-%COMP%]{height:150px;overflow-y:scroll}.listOfUsers[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.listOfUers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-bottom:5px;border-bottom:1px solid rgb(34,32,32)}.userDp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}#search[_ngcontent-%COMP%]{height:20px;width:100%;border-radius:10px;outline:none;border:none}#tapToChat[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}#tapToChat[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:1px 5px 1px 1px}#username[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#noSearch[_ngcontent-%COMP%]{display:flex;justify-content:center}.check[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:25px;width:25px}.userDp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:50px}.members[_ngcontent-%COMP%]{margin:10px 1px;width:100%}.buttonDiv[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.btn[_ngcontent-%COMP%]{outline:none;border:none;background-color:var(--blue);height:35px;border-radius:10px}.inputDiv[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;width:100%}.inputDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px}#grpName[_ngcontent-%COMP%]{border:none;outline:none;width:100%}.userDp[_ngcontent-%COMP%]{width:100%}.userDp[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin:1px 3px 1px 5px}#you[_ngcontent-%COMP%]{position:relative;left:55px;bottom:15px}"]}),n})();const C=["addMemberClass"];function M(n,s){1&n&&(e.TgZ(0,"span",15),e._uU(1,"Admin"),e.qZA())}function P(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",13),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e.YNc(4,M,2,0,"span",14),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(2),e.Oqu(t.userName),e.xp6(1),e.Q6J("ngIf",t.admin)}}function w(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMembers())}),e._uU(2,"Add Members"),e.qZA()()}}function U(n,s){1&n&&(e.TgZ(0,"small",30),e._uU(1,"(You)"),e.qZA())}function y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"div",27),e._UZ(3,"img",13),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e._UZ(6,"br"),e.YNc(7,U,2,0,"small",28),e.TgZ(8,"button",29),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.addUsers(r))}),e._uU(9,"Add"),e.qZA()()()()}if(2&n){const t=s.$implicit,i=e.oxw(4);e.xp6(3),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngIf",t.userName==i.username),e.xp6(1),e.Q6J("disabled",i.isUserAlreadyMember(t))}}function I(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,y,10,4,"div",24),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.searchResult)}}function D(n,s){1&n&&(e.TgZ(0,"div",31)(1,"h1"),e._uU(2,"No accounts found"),e.qZA()())}function N(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"strong"),e._uU(2,"Add Participants"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5,"Only admin can add others in group"),e.qZA(),e.TgZ(6,"input",19),e.NdJ("input",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onSearchUsers(o))}),e.qZA(),e.TgZ(7,"div",20)(8,"div",21),e.YNc(9,I,2,1,"div",22),e.YNc(10,D,3,0,"div",23),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(9),e.Q6J("ngIf",0!=t.searchResult.length),e.xp6(1),e.Q6J("ngIf",0==t.searchResult.length)}}function S(n,s){if(1&n&&(e.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),e._UZ(5,"img",6),e.qZA(),e.TgZ(6,"div",7)(7,"div")(8,"span"),e._uU(9," Group Name "),e.qZA(),e.TgZ(10,"strong"),e._uU(11),e.qZA()(),e._UZ(12,"br"),e.TgZ(13,"div")(14,"strong"),e._uU(15),e.qZA(),e._UZ(16,"br"),e.qZA(),e._UZ(17,"br"),e.qZA()(),e.TgZ(18,"strong",8),e._uU(19,"Members"),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"div",9),e.YNc(22,P,5,3,"div",10),e.qZA(),e._UZ(23,"div"),e.YNc(24,w,3,0,"div",11),e.qZA(),e.YNc(25,N,11,2,"div",12),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(11),e.hij("",t.groupName," "),e.xp6(4),e.Oqu(t.createdBy),e.xp6(7),e.Q6J("ngForOf",i.memberDetails),e.xp6(2),e.Q6J("ngIf",t.admin==i.userId),e.xp6(1),e.Q6J("ngIf",i.addMember)}}let k=(()=>{class n{constructor(t,i,o){this.data=t,this.message=i,this.dialog=o,this.memberDetails=[],this.searchResult=[],this.selectedUsers=[],this.userId=sessionStorage.getItem("userId"),this.addMember=!1,this.username=_.N.username,this.userDp=_.N.profilePicRetrival,this.profileRetrival=_.N.profilePicRetrival,this.groupDetails=[this.data]}ngOnInit(){this.retriveMemberDetails(),this.retrivedMembers()}retriveMemberDetails(){this.message.retriveGroupMembers(this.data.members)}retrivedMembers(){this.message.retrivedMembers().subscribe({next:t=>{this.memberDetails=t,this.memberDetails.map(i=>{i.admin=!!i._id.includes(this.data.admin)})}})}onSearchUsers(t){this.message.searchUsers(t.target.value).subscribe({next:r=>{this.searchResult=r.fetchedMessageAccounts,this.searchResult.map(c=>{})},error:()=>{}})}addMembers(){this.addMember=!this.addMember,1==this.addMember?this.addMemberClass?.nativeElement.classList.add("addMemberClass"):this.addMemberClass?.nativeElement.classList.remove("addMemberClass")}membersAdded(){this.message.membersAdded().subscribe({next:t=>{this.groupDetails=t}})}addUsers(t){this.message.addMembers({_id:t._id,groupName:this.data.groupName}),this.membersAdded()}isUserAlreadyMember(t){return this.memberDetails.some(i=>i._id===t._id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.WI),e.Y36(f.w),e.Y36(x.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-group-details"]],viewQuery:function(t,i){if(1&t&&e.Gf(C,5),2&t){let o;e.iGM(o=e.CRH())&&(i.addMemberClass=o.first)}},decls:1,vars:1,consts:[["class","groupDetails",4,"ngFor","ngForOf"],[1,"groupDetails"],["addMemberClass",""],[1,"firstDiv"],[1,"head"],[1,"img"],["src","data:image/png;base64,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","alt","twisks"],[1,"wholehead"],["id","title"],[1,"members"],[4,"ngFor","ngForOf"],["class","addGroup",4,"ngIf"],["class","secoundDiv",4,"ngIf"],["alt","twisks","srcset","",3,"src"],["id","admin",4,"ngIf"],["id","admin"],[1,"addGroup"],[1,"btn",3,"click"],[1,"secoundDiv"],["type","text","placeholder","Search members","id","search",3,"input"],[1,"membersOfsearch"],[1,"listOfUsers"],[4,"ngIf"],["id","noSearch",4,"ngIf"],["class","user",4,"ngFor","ngForOf"],[1,"user"],["id","tapToChat"],[1,"userDp"],["id","you",4,"ngIf"],["type","submit",1,"btn",3,"disabled","click"],["id","you"],["id","noSearch"]],template:function(t,i){1&t&&e.YNc(0,S,26,5,"div",0),2&t&&e.Q6J("ngForOf",i.groupDetails)},dependencies:[u.sg,u.O5],styles:[".members[_ngcontent-%COMP%]{height:200px;overflow-y:scroll;padding:5px;width:100%}.members[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;border-radius:50%}.members[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:3px;width:100%;border-bottom:1px solid rgb(219,216,216)}.groupDetails[_ngcontent-%COMP%]{padding:10px;width:400px;display:flex;align-items:center}#title[_ngcontent-%COMP%]{display:flex;justify-content:center}.members[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.groupDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%}#admin[_ngcontent-%COMP%]{position:relative;left:20px;color:#dedede}.groupDetails[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .groupDetails[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80%}.members[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:10px}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;border-radius:50%}.head[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.wholehead[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}.btn[_ngcontent-%COMP%]{outline:none;border:none;background-color:var(--blue);height:35px;border-radius:10px}.firstDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.userDp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:50px;width:50px}.userDp[_ngcontent-%COMP%]{display:flex;width:100%}#you[_ngcontent-%COMP%]{position:relative;right:65px;top:10px}.addMemberClass[_ngcontent-%COMP%]{width:100%}.secoundDiv[_ngcontent-%COMP%]{height:400px;overflow:hidden;text-align:center}.secoundDiv[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin:5px 1px}#search[_ngcontent-%COMP%]{border:none;outline:none;width:100%;margin:5px 1px}"]}),n})();var v=d(7340),q=d(9825),J=d(7009),Q=d(9110);const G=["messageContainer"];function F(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1,"(You)"),e.qZA())}function B(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1,"Tap to chat"),e.qZA())}function R(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.onPrivatechat(r))}),e.TgZ(2,"div"),e._UZ(3,"img",20),e.qZA(),e.TgZ(4,"div",21)(5,"strong"),e._uU(6),e.qZA(),e._UZ(7,"br"),e.YNc(8,F,2,0,"small",9),e.YNc(9,B,2,0,"small",9),e.qZA()()()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(3),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(3),e.Oqu(t.userName),e.xp6(2),e.Q6J("ngIf",t.userName==i.username),e.xp6(1),e.Q6J("ngIf",t.userName!=i.username)}}function E(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,R,10,4,"div",17),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.searchResult)}}function Y(n,s){1&n&&(e.TgZ(0,"div",22)(1,"h1"),e._uU(2,"Search a User and Start Chating!"),e.qZA()())}function H(n,s){1&n&&(e.TgZ(0,"div",23),e._uU(1,"\nNo Groups "),e.qZA())}function j(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.onGroupchat(r))}),e.TgZ(2,"div"),e._UZ(3,"img",27),e.qZA(),e.TgZ(4,"div",28)(5,"strong"),e._uU(6),e.qZA(),e.TgZ(7,"small"),e._uU(8,"Tap to Chat"),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(6),e.Oqu(t.groupName)}}function z(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,j,9,1,"div",24),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.groups)}}function K(n,s){if(1&n&&(e.TgZ(0,"div",29)(1,"div")(2,"span",30),e._uU(3,"\nforum\n"),e.qZA(),e.TgZ(4,"h2"),e._uU(5,"Your Messages"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Send private photos and messages to a friend or group"),e.qZA()()()),2&n){const t=e.oxw(2);e.ekj("mobileHidden",!t.isMobileScreen)}}const Z=function(n,s){return{receiver:n,sender:s}};function L(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",44)(2,"p"),e._uU(3),e.qZA()()()),2&n){const t=s.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.WLB(2,Z,t.receiverUserId==i.userId,t.receiverUserId!=i.userId)),e.xp6(2),e.Oqu(t.message)}}function V(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",32)(2,"div",33),e._UZ(3,"img",34),e.TgZ(4,"strong",35),e._uU(5),e.qZA()(),e._UZ(6,"div",36),e.qZA(),e.TgZ(7,"div",37)(8,"div",38,39),e.YNc(10,L,4,5,"div",31),e.qZA()(),e.TgZ(11,"div",40)(12,"form",41)(13,"input",42),e.NdJ("input",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.toggleSendBtn(o))}),e.qZA(),e.TgZ(14,"button",43),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.sendNewMessage(r))}),e._uU(15,"send"),e.qZA()()()()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(3),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(2),e.hij("",t.userName,"\n"),e.xp6(5),e.Q6J("ngForOf",i.messages),e.xp6(2),e.Q6J("formGroup",i.messageForm),e.xp6(2),e.Q6J("disabled",!i.isEmptyMsg)}}function X(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,V,16,5,"div",31),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.privateChat)}}function W(n,s){if(1&n&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.sender," ")}}function $(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,W,2,1,"strong",9),e.TgZ(2,"div",44)(3,"p"),e._uU(4),e.qZA()()()),2&n){const t=s.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.sender!=i.username),e.xp6(1),e.Q6J("ngClass",e.WLB(3,Z,t.sender!=i.username,t.sender==i.username)),e.xp6(2),e.hij(" ",t.message,"")}}function ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",32)(2,"div",33),e._UZ(3,"img",27),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e.TgZ(6,"span",1),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.showGroupDetails(r))}),e._uU(7," info "),e.qZA()(),e._UZ(8,"div",36),e.qZA(),e.TgZ(9,"div",37)(10,"div",38,39)(12,"div")(13,"div",45)(14,"h3"),e._uU(15),e.qZA()(),e.YNc(16,$,5,6,"div",31),e.qZA()()(),e.TgZ(17,"div",40)(18,"form",41)(19,"input",42),e.NdJ("input",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.toggleSendBtn(o))}),e.qZA(),e.TgZ(20,"button",43),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.sendGroupMessage(r))}),e._uU(21,"send"),e.qZA()()()()}if(2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(5),e.Oqu(t.groupName),e.xp6(10),e.Oqu(t.createdBy),e.xp6(1),e.Q6J("ngForOf",i.messages),e.xp6(2),e.Q6J("formGroup",i.messageForm),e.xp6(2),e.Q6J("disabled",!i.isEmptyMsg)}}function te(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ee,22,5,"div",31),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.groupChat)}}function ne(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2"),e._uU(4,"Messages"),e.qZA(),e.TgZ(5,"input",6),e.NdJ("input",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearchUsers(o))}),e.qZA(),e.TgZ(6,"span",7),e._uU(7,"\nperson_search\n"),e.qZA()(),e.TgZ(8,"div",8),e.YNc(9,E,2,1,"div",9),e.YNc(10,Y,3,0,"div",10),e.qZA(),e.TgZ(11,"div",11)(12,"div",5)(13,"h2"),e._uU(14,"Groups"),e.qZA(),e.TgZ(15,"div",12)(16,"div")(17,"span",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createGroup())}),e._uU(18,"Create new Group "),e.qZA()()()(),e.YNc(19,H,2,0,"div",14),e.YNc(20,z,2,1,"div",9),e.qZA()(),e.YNc(21,K,8,2,"div",15),e.TgZ(22,"div",16),e.YNc(23,X,2,1,"div",9),e.YNc(24,te,2,1,"div",9),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("mobileHidden",t.isMobileScreen),e.xp6(8),e.Q6J("ngIf",0!=t.searchResult.length),e.xp6(1),e.Q6J("ngIf",0==t.searchResult.length),e.xp6(9),e.Q6J("ngIf",0==t.groups.length),e.xp6(1),e.Q6J("ngIf",0!=t.groups.length),e.xp6(1),e.Q6J("ngIf",!t.showChatBox),e.xp6(2),e.Q6J("ngIf",t.isPrivateChat),e.xp6(1),e.Q6J("ngIf",t.isGroupChat)}}function ie(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1,"(You)"),e.qZA())}function se(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1,"Tap to chat"),e.qZA())}function oe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(5);return e.KtG(c.onPrivatechat(r))}),e.TgZ(2,"div"),e._UZ(3,"img",20),e.qZA(),e.TgZ(4,"div",21)(5,"strong"),e._uU(6),e.qZA(),e._UZ(7,"br"),e.YNc(8,ie,2,0,"small",9),e.YNc(9,se,2,0,"small",9),e.qZA()()()}if(2&n){const t=s.$implicit,i=e.oxw(5);e.xp6(3),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(3),e.Oqu(t.userName),e.xp6(2),e.Q6J("ngIf",t.userName==i.username),e.xp6(1),e.Q6J("ngIf",t.userName!=i.username)}}function re(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,oe,10,4,"div",17),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.searchResult)}}function ae(n,s){1&n&&(e.TgZ(0,"div",22)(1,"h1"),e._uU(2,"Search a User and Start Chating!"),e.qZA()())}function ce(n,s){1&n&&(e.TgZ(0,"div",23),e._uU(1," No Groups "),e.qZA())}function de(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(5);return e.KtG(c.onGroupchat(r))}),e.TgZ(2,"div"),e._UZ(3,"img",27),e.qZA(),e.TgZ(4,"div",28)(5,"strong"),e._uU(6),e.qZA(),e.TgZ(7,"small"),e._uU(8,"Tap to Chat"),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(6),e.Oqu(t.groupName)}}function ge(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,de,9,1,"div",24),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.groups)}}function pe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2"),e._uU(5,"Messages"),e.qZA(),e.TgZ(6,"input",6),e.NdJ("input",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onSearchUsers(o))}),e.qZA(),e.TgZ(7,"span",7),e._uU(8," person_search "),e.qZA()(),e.TgZ(9,"div",8),e.YNc(10,re,2,1,"div",9),e.YNc(11,ae,3,0,"div",10),e.qZA(),e.TgZ(12,"div",11)(13,"div",5)(14,"h2"),e._uU(15,"Groups"),e.qZA(),e.TgZ(16,"div",12)(17,"div")(18,"span",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.createGroup())}),e._uU(19,"Create new Group "),e.qZA()()()(),e.YNc(20,ce,2,0,"div",14),e.YNc(21,ge,2,1,"div",9),e.qZA()()()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.ekj("mobileHidden",t.isMobileScreen),e.xp6(8),e.Q6J("ngIf",0!=t.searchResult.length),e.xp6(1),e.Q6J("ngIf",0==t.searchResult.length),e.xp6(9),e.Q6J("ngIf",0==t.groups.length),e.xp6(1),e.Q6J("ngIf",0!=t.groups.length)}}function _e(n,s){if(1&n&&(e.TgZ(0,"div",49),e.YNc(1,pe,22,6,"div",50),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("@slideInOut",t.isSidebarOpen?"in":"out"),e.xp6(1),e.Q6J("ngIf",t.isSidebarOpen)}}function le(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",44)(2,"p"),e._uU(3),e.qZA()()()),2&n){const t=s.$implicit,i=e.oxw(5);e.xp6(1),e.Q6J("ngClass",e.WLB(2,Z,t.receiverUserId==i.userId,t.receiverUserId!=i.userId)),e.xp6(2),e.Oqu(t.message)}}function ue(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",32)(2,"div",33),e._UZ(3,"img",34),e.TgZ(4,"strong",35),e._uU(5),e.qZA()(),e._UZ(6,"div",36),e.qZA(),e.TgZ(7,"div",37)(8,"div",38,39),e.YNc(10,le,4,5,"div",31),e.qZA()(),e.TgZ(11,"div",40)(12,"form",41)(13,"input",42),e.NdJ("input",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.toggleSendBtn(o))}),e.qZA(),e.TgZ(14,"button",43),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.sendNewMessage(r))}),e._uU(15,"send"),e.qZA()()()()}if(2&n){const t=s.$implicit,i=e.oxw(4);e.xp6(3),e.s9C("src",t.profilePhoto,e.LSH),e.xp6(2),e.hij("",t.userName,"\n"),e.xp6(5),e.Q6J("ngForOf",i.messages),e.xp6(2),e.Q6J("formGroup",i.messageForm),e.xp6(2),e.Q6J("disabled",!i.isEmptyMsg)}}function me(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ue,16,5,"div",31),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.privateChat)}}function ve(n,s){if(1&n&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.sender," ")}}function he(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ve,2,1,"strong",9),e.TgZ(2,"div",44)(3,"p"),e._uU(4),e.qZA()()()),2&n){const t=s.$implicit,i=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.sender!=i.username),e.xp6(1),e.Q6J("ngClass",e.WLB(3,Z,t.sender!=i.username,t.sender==i.username)),e.xp6(2),e.hij(" ",t.message,"")}}function xe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",32)(2,"div",33),e._UZ(3,"img",27),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e.TgZ(6,"span",1),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.showGroupDetails(r))}),e._uU(7," info "),e.qZA()(),e._UZ(8,"div",36),e.qZA(),e.TgZ(9,"div",37)(10,"div",38,39)(12,"div")(13,"div",45)(14,"h3"),e._uU(15),e.qZA()(),e.YNc(16,he,5,6,"div",31),e.qZA()()(),e.TgZ(17,"div",40)(18,"form",41)(19,"input",42),e.NdJ("input",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.toggleSendBtn(o))}),e.qZA(),e.TgZ(20,"button",43),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.sendGroupMessage(r))}),e._uU(21,"send"),e.qZA()()()()}if(2&n){const t=s.$implicit,i=e.oxw(4);e.xp6(5),e.Oqu(t.groupName),e.xp6(10),e.Oqu(t.createdBy),e.xp6(1),e.Q6J("ngForOf",i.messages),e.xp6(2),e.Q6J("formGroup",i.messageForm),e.xp6(2),e.Q6J("disabled",!i.isEmptyMsg)}}function fe(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,xe,22,5,"div",31),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.groupChat)}}function Ce(n,s){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,me,2,1,"div",9),e.YNc(2,fe,2,1,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("@slideInOut",t.isSidebarOpen?"out":"in"),e.xp6(1),e.Q6J("ngIf",t.isPrivateChat),e.xp6(1),e.Q6J("ngIf",t.isGroupChat)}}function Me(n,s){if(1&n&&(e.TgZ(0,"div",46),e.YNc(1,_e,2,2,"div",47),e.YNc(2,Ce,3,3,"div",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isMobileScreen),e.xp6(1),e.Q6J("ngIf",t.showChatBox)}}let Oe=(()=>{class n{constructor(t,i,o,r,c,Te,we){this.messageService=t,this.websocket=i,this.fb=o,this.dialog=r,this.notification=c,this.route=Te,this.seoService=we,this.searchResult=[],this.privateChat=[],this.groupChat=[],this.showChatBox=!1,this.messages=[],this.userId=sessionStorage.getItem("userId"),this.username=sessionStorage.getItem("username"),this.receiverMsgs=[],this.senderMsgs=[],this.oldMessages=[],this.roomId="",this.groups=[],this.isEmptyMsg=!1,this.userDp=_.N.profilePicRetrival,this.isGroupChat=!1,this.isPrivateChat=!1,this.isMobileScreen=!1,this.isSidebarOpen=!0,this.messageForm=this.fb.group({message:new p.NI("")})}ngOnInit(){this.setSeoData(),this.messageService.Connect(),this.onMobileScreen(),this.retriveAllgroups(),this.onRetrivingGroupsInitally()}onSearchUsers(t){this.messageService.searchUsers(t.target.value).subscribe({next:r=>{this.searchResult=r.fetchedMessageAccounts},error:()=>{}})}onPrivatechat(t){const i={senderuserId:this.userId,reciveruserId:t._id};this.messageService.Connect(),this.messageService.connectChatRoom(i),this.messageService.retriveRoomId().subscribe({next:o=>{this.roomId=o._id,this.messageService.JoinRoomSockets(this.roomId),this.messageService.retriveInitialMessages({room:this.roomId}),this.messageService.fetchOldMessages().subscribe({next:r=>{this.showChatBox=!0,this.isPrivateChat=!0,this.isGroupChat=!1,this.privateChat=[t],this.messages=r,this.onMobileScreen(),this.notification.open("slide the chat box and chat","close",{duration:5e3})},error:()=>{}}),this.messageService.newMessageRecived().subscribe(r=>{this.messages=r})},error:()=>{}})}sendNewMessage(t){this.messageService.sendMessage({senderUserId:this.userId,receiverUserId:t._id,message:this.messageForm.value.message,room:this.roomId}),this.messageForm.reset(),this.messageService.newMessageRecived().subscribe(i=>{this.messages=i})}createGroup(){this.dialog.open(m,{panelClass:"center-dialog"}).afterClosed().subscribe(i=>{this.onRetrivingGroupsInitally()})}retriveAllgroups(){this.messageService.retriveUserGroups({userId:this.userId})}toggleSendBtn(t){this.isEmptyMsg=0!=t.target.value.length}onRetrivingGroupsInitally(){this.messageService.getGroups().subscribe({next:t=>{this.groups=t.groups},error:()=>{}})}onGroupchat(t){this.messageService.getGroupChatRoom(t.groupName),this.messageService.retriveGroupRoom().subscribe({next:i=>{this.showChatBox=!0,this.isGroupChat=!0,this.isPrivateChat=!1,this.groupChat=[t],this.messages=i.message,this.notification.open("slide the chat box on the top start chatting","close",{duration:5e3})},error:()=>{}})}sendGroupMessage(t){this.messageService.sendGroupMessage({groupName:t.groupName,members:t.members,sender:this.userId,message:this.messageForm.value.message}),this.messageForm.reset(),this.messageService.newgroupMessages().subscribe(i=>{this.messages=i.message})}showGroupDetails(t){this.dialog.open(k,{data:t}).afterClosed().subscribe(o=>{})}onMobileScreen(){this.isMobileScreen=window.screen.width<=768}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}setSeoData(){const t=this.route.snapshot.data;this.seoService.setSeoData(t.title||"Twisks ",t.description||"Welcome to Twisks")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.w),e.Y36(q.i),e.Y36(p.qu),e.Y36(x.uw),e.Y36(J.ux),e.Y36(l.gz),e.Y36(Q.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-message"]],viewQuery:function(t,i){if(1&t&&e.Gf(G,5),2&t){let o;e.iGM(o=e.CRH())&&(i.messageContainer=o.first)}},decls:4,vars:2,consts:[["class","container",4,"ngIf"],[1,"material-symbols-outlined",3,"click"],["class","",4,"ngIf"],[1,"container"],[1,"allusers"],[1,"title","wid"],["type","text",3,"input"],["id","search",1,"material-symbols-outlined"],[1,"listOfUers"],[4,"ngIf"],["id","noSearch",4,"ngIf"],[1,"groupContainer"],[1,"create"],["id","group",3,"click"],["class","noGroups",4,"ngIf"],["class","initalMessageDiv",3,"mobileHidden",4,"ngIf"],[1,"messageDiv"],["class","user",4,"ngFor","ngForOf"],[1,"user"],["id","tapToChat",3,"click"],["alt","twisks","srcset","","id","profile",3,"src"],["id","username"],["id","noSearch"],[1,"noGroups"],["class","groups",4,"ngFor","ngForOf"],[1,"groups"],["id","groupDiv",3,"click"],["src","data:image/png;base64,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","alt","twisks"],[1,"boxi"],[1,"initalMessageDiv"],[1,"material-symbols-outlined"],[4,"ngFor","ngForOf"],[1,"header"],[1,"userDp"],["alt","twisks","id","profileH",3,"src"],["id","name"],[1,"headerOptions"],[1,"messages"],[1,"chatbox"],["messageContainer",""],[1,"sendMessageFeild"],[3,"formGroup"],["type","text","placeholder","Message...","id","feild","formControlName","message","autocomplete","off",3,"input"],[1,"btn",3,"disabled","click"],[3,"ngClass"],[1,"createdBy"],[1,""],["class","sidebar",4,"ngIf"],["class","messageDiv",4,"ngIf"],[1,"sidebar"],["class","sidebar-content",4,"ngIf"],[1,"sidebar-content"]],template:function(t,i){1&t&&(e.YNc(0,ne,25,9,"div",0),e.TgZ(1,"span",1),e.NdJ("click",function(){return i.toggleSidebar()}),e._uU(2," list "),e.qZA(),e.YNc(3,Me,3,2,"div",2)),2&t&&(e.Q6J("ngIf",!i.isMobileScreen),e.xp6(3),e.Q6J("ngIf",i.isMobileScreen))},dependencies:[u.mk,u.sg,u.O5,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u],styles:[".chat[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.wid[_ngcontent-%COMP%]{position:relative;left:15px}.container[_ngcontent-%COMP%]{overflow:hidden;display:flex;position:relative;left:180px;width:100%;height:731px;margin-left:30px}.allusers[_ngcontent-%COMP%]{border-right:rgb(201,200,200) solid 1px;display:flex;flex-direction:column;align-items:center}.title[_ngcontent-%COMP%], .initalMessageDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.initalMessageDiv[_ngcontent-%COMP%]{width:100%;text-align:center}.initalMessageDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:x-large}.title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}.title[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:25px;border-radius:10px;width:230px;border:.5px solid silver}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:65px}.user[_ngcontent-%COMP%]{display:flex;width:320px;padding:3px}.user[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:5px}#tapToChat[_ngcontent-%COMP%]{display:flex;height:700px}.listOfUers[_ngcontent-%COMP%]{overflow:scroll;height:250px;width:300px;position:relative;left:40px}.listOfUers[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.messageDiv[_ngcontent-%COMP%]{height:100%;width:100%}.listOfUers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;padding:5px;height:55px;border-bottom:1px solid rgb(224,224,224);margin:5px}.header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:15px;position:relative;bottom:18px}#search[_ngcontent-%COMP%]{position:relative;bottom:27px;left:100px}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:790px;cursor:pointer}.userDp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;position:relative;height:50px;top:2px}#group[_ngcontent-%COMP%]{color:var(--blue);font-weight:500;cursor:pointer}#group[_ngcontent-%COMP%]:hover{color:#055}.groups[_ngcontent-%COMP%]{display:flex}#groupDiv[_ngcontent-%COMP%]{width:300px;margin:5px;cursor:pointer;position:relative;left:35px;display:flex}.groupDp[_ngcontent-%COMP%]{position:relative;right:20px}#groupDiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}#groupDiv[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:15px;margin-top:3px}#groupDiv[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:5px;margin-top:3px}.createdBy[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.createdBy[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:5px;background-color:#faebd7;border-radius:10px;color:#848484}#profile[_ngcontent-%COMP%]{height:50px;width:50px}#profileH[_ngcontent-%COMP%]{height:40px;width:45px;position:relative;bottom:5px}#name[_ngcontent-%COMP%]{height:40px}.create[_ngcontent-%COMP%]{width:200px;display:flex;justify-content:center;position:relative;bottom:7px}.userDp[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{position:relative;top:4px}#groupDiv[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin:5px 1px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;border-bottom:1px solid #ddd}.userDp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;margin-right:10px}.userDp[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.messages[_ngcontent-%COMP%]{height:calc(100vh - 150px);overflow-y:auto;padding:10px}.createdBy[_ngcontent-%COMP%]{margin-bottom:10px}.createdBy[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin:0}.chatbox[_ngcontent-%COMP%]{margin-bottom:20px}.receiver[_ngcontent-%COMP%]{color:#000;display:flex;align-items:flex-end;margin-bottom:10px}.sender[_ngcontent-%COMP%]{color:#000;display:flex;align-items:flex-end;justify-content:flex-end;margin-bottom:10px}.receiver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sender[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#f7f7f7;border-radius:20px;padding:8px 12px;margin:0;font-size:14px;max-width:70%;word-wrap:break-word}.sendMessageFeild[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center;border-top:1px solid #ddd}.sendMessageFeild[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex:1;display:flex}.sendMessageFeild[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;padding:8px;border-radius:20px;border:1px solid #ddd;margin-right:10px}.sendMessageFeild[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;border-radius:20px;background-color:#3897f0;color:#fff;border:none;cursor:pointer}.sendMessageFeild[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ddd;cursor:not-allowed}.boxi[_ngcontent-%COMP%]{display:flex;flex-direction:column}.boxi[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{position:relative;left:10px}.boxi[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{position:relative;bottom:5px;left:5px}.noGroups[_ngcontent-%COMP%]{position:relative;left:85px}.sidebar[_ngcontent-%COMP%]{background-color:#f3f3f3;padding:10px;overflow:hidden;transition:transform .2s ease-in-out}.sidebar-content[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]{display:block}.slideInOut[_ngcontent-%COMP%]{position:relative}.slideInOut.in[_ngcontent-%COMP%]{transform:translate(0)}.slideInOut.out[_ngcontent-%COMP%]{transform:translate(-100%)}@media only screen and (max-width: 1200px){.container[_ngcontent-%COMP%]{overflow:hidden;width:480px;position:relative;left:0;top:10px;margin-left:0}.mobileHidden[_ngcontent-%COMP%]{display:none}.allusers[_ngcontent-%COMP%]{border-right:rgb(201,200,200) solid 1px;display:flex;flex-direction:column;align-items:center;width:100%;position:relative;right:50px}.messages[_ngcontent-%COMP%]{height:650px}.bothDiv[_ngcontent-%COMP%]{display:flex}}"],data:{animation:[(0,v.X$)("slideInOut",[(0,v.SB)("in",(0,v.oB)({transform:"translateX(0)"})),(0,v.SB)("out",(0,v.oB)({transform:"translateX(-100%)"})),(0,v.eR)("in => out",(0,v.jt)("200ms ease-in")),(0,v.eR)("out => in",(0,v.jt)("200ms ease-out"))])]}}),n})();var A=d(1449);const Ze=[{path:"",children:[{path:"",component:Oe,canActivate:[A.s]},{path:"group",component:m,canActivate:[A.s]}]}];let be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(Ze),l.Bz]}),n})();var Pe=d(1469);let Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,be,p.u5,p.UX,Pe.m]}),n})()},9825:(T,O,d)=>{d.d(O,{i:()=>x});var u=d(5861),l=d(9751),p=d(360),_=d(6743),e=d(1571),f=d(7009);let x=(()=>{class h{constructor(a){this.noti=a}connectSockets(){this.socket=(0,p.io)(`${_.N.baseUrl}`,{transports:["websocket"],reconnectionAttempts:3,timeout:5e3,withCredentials:!0}),this.socket.on("connect",()=>{console.log("Connected to socket server!")}),this.socket.on("error",a=>{this.noti.open("Error in connection server")}),this.socket.emit("join",_.N.userId)}likePost(a,g,m,C,M){this.socket.emit("likedPost",{userId:a,postId:g,postuserId:m,likedUsername:C,postImage:M})}onPostLiked(){return new l.y(a=>{this.socket.on("postLiked",g=>{a.next(g),this.LikenoticeCheck()})})}onPostComment(a,g,m,C,M,P){this.socket.emit("newComment",{postId:a,postUserId:g,userId:m,comment:C,username:M,postImage:P})}onPostGetComment(){return new l.y(a=>{this.socket.on("commentsRetrived",g=>{a.next(g)})})}retriveInitalComments(a){this.socket.emit("InitalpostComments",{postId:a})}onViewPostComments(){return new l.y(a=>{this.socket.on("InitalpostCommentsRetrived",g=>{a.next(g)})})}onSavingPost(a){this.socket.emit("savePost",a)}onRetrivingSavedPosts(){return new l.y(a=>{this.socket.on("retrivedSavedPosts",function(){var g=(0,u.Z)(function*(m){a.next(m)});return function(m){return g.apply(this,arguments)}}())})}noticeCheck(){return new l.y(a=>{this.socket.on("notification",g=>{a.next(g),this.onCommentNotifications(g)})})}LikenoticeCheck(){return new l.y(a=>{this.socket.on("Likenotification",g=>{a.next(g)})})}onlikeNotifications(a){this.noti.open(`${a} liked your post`,"Close",{panelClass:["my-custom-snackbar"],duration:5e3})}onCommentNotifications(a){this.noti.open(`${a} commented your post`,"Close",{panelClass:["my-custom-snackbar"],duration:5e3})}onError(){return new l.y(a=>{this.socket.on("error",g=>{a.next(g),this.noti.open(g,"Close",{duration:3e3})})})}}return h.\u0275fac=function(a){return new(a||h)(e.LFG(f.ux))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);